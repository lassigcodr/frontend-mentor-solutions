{"mappings":"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","sources":["<anon>","src/js/controller.js"],"sourcesContent":["const form = document.querySelector(\".form\");\nconst input = document.querySelector(\".form__field\");\nconst list = document.querySelector(\".list\");\nconst items = [];\n// Save items to local storage\nconst saveToLocalStorage = ()=>{\n    localStorage.setItem(\"todoItems\", JSON.stringify(items));\n};\n// Load items from local storage\nconst loadFromLocalStorage = ()=>{\n    const storedItems = localStorage.getItem(\"todoItems\");\n    return storedItems ? JSON.parse(storedItems) : [];\n};\nconst count = function() {\n    return items.filter((e)=>{\n        if (!e.isDone) return e;\n    }).length;\n};\nconst render = function(arr) {\n    let res = count();\n    let markup = `\r\n    ${arr.map((item, i)=>{\n        return `\r\n        <li class=\"list__item ${item.isDone ? \"list__item--completed\" : \"\"}\" draggable=\"true\">\r\n            <label for=\"check-id-${i}\" class=\"checkbox\">\r\n                <input type=\"checkbox\" id=\"check-id-${i}\" ${item.isDone ? \"checked\" : \"\"}>\r\n                <span class=\"check\"></span>\r\n            </label>\r\n            <span>${item.task}</span>\r\n            <button class=\"btn btn--close\"></button>\r\n        </li>\r\n        `;\n    }).join(\"\")}\r\n\r\n    <li class=\"list__footer\">\r\n        <span id=\"item-left\">${res} item${res > 1 ? \"s\" : \"\"} left</span>\r\n        <ul>\r\n            <li onclick=\"showAll()\">All</li>\r\n            <li onclick=\"filterActive()\">Active</li>\r\n            <li onclick=\"filterCompleted()\">Completed</li>\r\n        </ul>\r\n        <span onclick=\"clearCompleted()\">Clear completed</span>\r\n    </li>\r\n    `;\n    list.innerHTML = \"\";\n    if (arr.length === 0) markup = \"\";\n    list.insertAdjacentHTML(\"afterbegin\", markup);\n    const checkbox = document.querySelectorAll(\"[id^=check-id]\");\n    checkbox.forEach((check)=>{\n        check.addEventListener(\"change\", ()=>{\n            if (check.checked === true) {\n                arr[+check.id.slice(-1)].isDone = true;\n                check.closest(\".list__item\").classList.toggle(\"list__item--completed\");\n                res -= 1;\n                document.querySelector(\"#item-left\").innerHTML = `${res} item${res > 1 ? \"s\" : \"\"} left`;\n            } else {\n                arr[+check.id.slice(-1)].isDone = false;\n                check.closest(\".list__item\").classList.toggle(\"list__item--completed\");\n                res += 1;\n                document.querySelector(\"#item-left\").innerHTML = `${res} item${res > 1 ? \"s\" : \"\"} left`;\n            }\n            saveToLocalStorage();\n        });\n    });\n    // Select all items with the class `.list__item` for drag-and-drop\n    const items = [\n        ...list.querySelectorAll(\".list__item\")\n    ];\n    const footerItem = list.querySelector(\".list__footer\");\n    items.forEach((item)=>{\n        item.setAttribute(\"draggable\", true); // Make items draggable\n        item.addEventListener(\"dragstart\", ()=>{\n            setTimeout(()=>item.classList.add(\"dragging\"), 0);\n        });\n        item.addEventListener(\"dragend\", ()=>item.classList.remove(\"dragging\"));\n    });\n    const sortList = (e)=>{\n        e.preventDefault();\n        const draggingItem = document.querySelector(\".dragging\");\n        // Select all `.list__item` siblings except the dragging item\n        const siblings = [\n            ...list.querySelectorAll(\".list__item:not(.dragging)\")\n        ];\n        // Find the correct position to insert the dragging item\n        const nextSibling = siblings.find((sibling)=>{\n            return e.clientY < sibling.getBoundingClientRect().top + sibling.offsetHeight / 2;\n        });\n        // Stop if attempting to place the dragging item before or after the footer item\n        if (!nextSibling || nextSibling === footerItem) return;\n        // Insert the dragging item before the found sibling or at the end of `.list__item` elements\n        list.insertBefore(draggingItem, nextSibling);\n    };\n    // Attach drag event listeners to the list container\n    list.addEventListener(\"dragover\", sortList);\n    list.addEventListener(\"dragenter\", (e)=>e.preventDefault());\n};\ndocument.addEventListener(\"DOMContentLoaded\", ()=>{\n    // Load items from local storage on page load\n    const storedItems = loadFromLocalStorage();\n    items.push(...storedItems); // Populate items array with stored data\n    render(items);\n});\nform.addEventListener(\"submit\", (e)=>{\n    e.preventDefault();\n    if (!input.value) return;\n    const todo = {\n        task: input.value,\n        isDone: false\n    };\n    items.push(todo);\n    input.value = \"\";\n    saveToLocalStorage();\n    render(items);\n});\nlist.addEventListener(\"click\", (e)=>{\n    if (e.target.className === \"btn btn--close\") {\n        const parent = e.target.closest(\".list__item\");\n        const check = parent.querySelector(\"[id^=check-id]\");\n        items.splice(+check.id.slice(-1), 1);\n        saveToLocalStorage();\n        render(items);\n    }\n});\nconst filterCompleted = function(arr) {\n    arr = items;\n    const res = arr.filter((e)=>{\n        if (e.isDone) return e;\n    });\n    if (res.length === 0) return;\n    render(res);\n};\nconst filterActive = function(arr) {\n    arr = items;\n    const res = arr.filter((e)=>{\n        if (!e.isDone) return e;\n    });\n    if (res.length === 0) return;\n    render(res);\n};\nconst showAll = function(arr) {\n    arr = items;\n    render(arr);\n};\nconst clearCompleted = function(arr) {\n    arr = items;\n    for(let i = arr.length - 1; i >= 0; i--)if (arr[i].isDone) arr.splice(i, 1);\n    saveToLocalStorage();\n    render(arr);\n};\n\n//# sourceMappingURL=index.4a4b0589.js.map\n","const form = document.querySelector('.form');\r\nconst input = document.querySelector('.form__field');\r\nconst list = document.querySelector('.list');\r\n\r\nconst items = []\r\n\r\n// Save items to local storage\r\nconst saveToLocalStorage = () => {\r\n    localStorage.setItem('todoItems', JSON.stringify(items));\r\n};\r\n\r\n// Load items from local storage\r\nconst loadFromLocalStorage = () => {\r\n    const storedItems = localStorage.getItem('todoItems');\r\n    return storedItems ? JSON.parse(storedItems) : [];\r\n};\r\n\r\n\r\nconst count = function() {\r\n    return items.filter(e => {\r\n        if(!e.isDone) {\r\n            return e;\r\n        }\r\n    }).length;\r\n}\r\n\r\nconst render = function(arr) {\r\n    let res = count();\r\n    let markup = `\r\n    ${arr.map((item, i) => {\r\n        return `\r\n        <li class=\"list__item ${item.isDone? 'list__item--completed' : ''}\" draggable=\"true\">\r\n            <label for=\"check-id-${i}\" class=\"checkbox\">\r\n                <input type=\"checkbox\" id=\"check-id-${i}\" ${item.isDone? 'checked' : ''}>\r\n                <span class=\"check\"></span>\r\n            </label>\r\n            <span>${item.task}</span>\r\n            <button class=\"btn btn--close\"></button>\r\n        </li>\r\n        `;\r\n    }).join('')}\r\n\r\n    <li class=\"list__footer\">\r\n        <span id=\"item-left\">${res} item${res>1?'s':''} left</span>\r\n        <ul>\r\n            <li onclick=\"showAll()\">All</li>\r\n            <li onclick=\"filterActive()\">Active</li>\r\n            <li onclick=\"filterCompleted()\">Completed</li>\r\n        </ul>\r\n        <span onclick=\"clearCompleted()\">Clear completed</span>\r\n    </li>\r\n    `;\r\n    list.innerHTML = '';\r\n    if(arr.length === 0) markup = '';\r\n    list.insertAdjacentHTML('afterbegin', markup);\r\n\r\n    const checkbox = document.querySelectorAll('[id^=check-id]');\r\n    checkbox.forEach(check => {\r\n        check.addEventListener('change', () => {\r\n            if(check.checked === true){\r\n                arr[+check.id.slice(-1)].isDone = true;\r\n                check.closest('.list__item').classList.toggle('list__item--completed');\r\n                res -= 1;\r\n                document.querySelector('#item-left').innerHTML = `${res} item${res>1?'s':''} left`;     \r\n            } else {\r\n                arr[+check.id.slice(-1)].isDone = false;\r\n                check.closest('.list__item').classList.toggle('list__item--completed');\r\n                res += 1;\r\n                document.querySelector('#item-left').innerHTML = `${res} item${res>1?'s':''} left`;\r\n            }\r\n\r\n            saveToLocalStorage();\r\n        })\r\n    })\r\n\r\n    // Select all items with the class `.list__item` for drag-and-drop\r\n    const items = [...list.querySelectorAll('.list__item')];\r\n    const footerItem = list.querySelector('.list__footer');\r\n\r\n    items.forEach(item => {\r\n        item.setAttribute(\"draggable\", true); // Make items draggable\r\n        item.addEventListener(\"dragstart\", () => {\r\n            setTimeout(() => item.classList.add(\"dragging\"), 0);\r\n        });\r\n        item.addEventListener(\"dragend\", () => item.classList.remove(\"dragging\"));\r\n    });\r\n\r\n    const sortList = (e) => {\r\n        e.preventDefault();\r\n        const draggingItem = document.querySelector('.dragging');\r\n\r\n        // Select all `.list__item` siblings except the dragging item\r\n        const siblings = [...list.querySelectorAll(\".list__item:not(.dragging)\")];\r\n        \r\n        // Find the correct position to insert the dragging item\r\n        const nextSibling = siblings.find(sibling => {\r\n            return e.clientY < sibling.getBoundingClientRect().top + sibling.offsetHeight / 2;\r\n        });\r\n\r\n        // Stop if attempting to place the dragging item before or after the footer item\r\n        if (!nextSibling || nextSibling === footerItem) return;\r\n\r\n        // Insert the dragging item before the found sibling or at the end of `.list__item` elements\r\n        list.insertBefore(draggingItem, nextSibling);\r\n    };\r\n\r\n    // Attach drag event listeners to the list container\r\n    list.addEventListener(\"dragover\", sortList);\r\n    list.addEventListener(\"dragenter\", e => e.preventDefault());\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    // Load items from local storage on page load\r\n    const storedItems = loadFromLocalStorage();\r\n    items.push(...storedItems);  // Populate items array with stored data\r\n    render(items);\r\n});\r\n\r\nform.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!input.value) return;\r\n    const todo = {\r\n        task: input.value,\r\n        isDone: false\r\n    }\r\n\r\n    items.push(todo);\r\n    input.value = '';\r\n\r\n    saveToLocalStorage();\r\n    render(items);\r\n})\r\n\r\nlist.addEventListener('click', (e) => {\r\n    if(e.target.className === \"btn btn--close\") {\r\n        const parent = e.target.closest('.list__item');\r\n        const check = parent.querySelector('[id^=check-id]');\r\n        items.splice(+check.id.slice(-1), 1);\r\n\r\n        saveToLocalStorage();\r\n        render(items);\r\n    }\r\n})\r\n\r\nconst filterCompleted = function(arr) {\r\n    arr=items;\r\n    const res = arr.filter(e => {\r\n        if(e.isDone) {\r\n            return e;\r\n        }\r\n    })\r\n    if(res.length===0) return\r\n    render(res);\r\n}\r\n\r\nconst filterActive = function(arr) {\r\n    arr=items;\r\n    const res = arr.filter(e => {\r\n        if(!e.isDone) {\r\n            return e;\r\n        }\r\n    })\r\n    if(res.length===0) return\r\n    render(res);\r\n}\r\n\r\nconst showAll = function(arr) {\r\n    arr=items;\r\n    render(arr);\r\n}\r\n\r\nconst clearCompleted = function(arr) {\r\n    arr=items;\r\n    for(let i=arr.length - 1; i >= 0; i--){\r\n        if(arr[i].isDone) {\r\n            arr.splice(i, 1)\r\n        }\r\n    }\r\n\r\n    saveToLocalStorage();\r\n    render(arr);\r\n}\r\n\r\n"],"names":["form","document","querySelector","input","list","items","saveToLocalStorage","localStorage","setItem","JSON","stringify","loadFromLocalStorage","storedItems","getItem","parse","render","arr","res","filter","e","isDone","length","markup","map","item","i","task","join","innerHTML","insertAdjacentHTML","checkbox","querySelectorAll","forEach","check","addEventListener","checked","id","slice","closest","classList","toggle","footerItem","setAttribute","setTimeout","add","remove","preventDefault","draggingItem","nextSibling","siblings","find","sibling","clientY","getBoundingClientRect","top","offsetHeight","insertBefore","push","value","todo","target","className","parent","splice"],"version":3,"file":"index.4a4b0589.js.map"}